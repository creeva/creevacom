{"id":2690,"date":"2008-04-09T14:35:31","date_gmt":"2008-04-09T19:35:31","guid":{"rendered":"http:\/\/localhost\/wordpress\/?p=2690"},"modified":"2023-02-06T16:28:00","modified_gmt":"2023-02-06T16:28:00","slug":"the-kiosk-series-part-three-microsoft-steadystate-vs-group-policies","status":"publish","type":"post","link":"http:\/\/10.10.2.102\/wordpress\/index.php\/2008\/04\/09\/the-kiosk-series-part-three-microsoft-steadystate-vs-group-policies\/","title":{"rendered":"The Kiosk Series &#8211; Part Three &#8211; Microsoft SteadyState vs Group Policies"},"content":{"rendered":"<p style=\"text-align: center;\"><img decoding=\"async\" class=\"aligncenter size-large wp-image-97594\" src=\"http:\/\/localhost\/wordpress\/wp-content\/uploads\/2022\/06\/switch-1-1024x768.jpg\" alt=\"\" width=\"1024\" height=\"768\" srcset=\"http:\/\/10.10.2.102\/wordpress\/wp-content\/uploads\/2022\/06\/switch-1-1024x768.jpg 1024w, http:\/\/10.10.2.102\/wordpress\/wp-content\/uploads\/2022\/06\/switch-1-300x225.jpg 300w, http:\/\/10.10.2.102\/wordpress\/wp-content\/uploads\/2022\/06\/switch-1-768x576.jpg 768w, http:\/\/10.10.2.102\/wordpress\/wp-content\/uploads\/2022\/06\/switch-1-1536x1152.jpg 1536w, http:\/\/10.10.2.102\/wordpress\/wp-content\/uploads\/2022\/06\/switch-1.jpg 1600w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/p>\n<p>One of the programs that management wants us to look at for our kiosk implementation is Microsoft Steadystate,\u00a0<a href=\"http:\/\/www.microsoft.com\">Microsoft<\/a>&#8216;s all-in-one wizard creates a kiosk solution.<\/p>\n<p>I&#8217;m not entirely convinced on the scenario that there are things in which you can do with this, that the active directory is not more suited for. So while we work through this document we&#8217;ll be exploring the options of SteadyState and comparing it to group policies that you can push down to a computer or user account from a central location.<\/p>\n<p>This is the start page of Microsoft SteadyState from here there are 6 things you can do:<\/p>\n<p>1. Set Computer Restrictions<\/p>\n<p>2. Schedule Software Updates<\/p>\n<p>3. Protect the Hard Disk<\/p>\n<p>4. Add a New User<\/p>\n<p>5. Export a User<\/p>\n<p>6. Import a User<\/p>\n<p>This is the &#8220;Set Computer Restrictions&#8221; page. This page is broken down into different sections and shows you how limiting the computer settings are in group policies that can be applied to this state. While there are still further windows computer policies you can apply to the machine especially if you wish to conform to your company&#8217;s security plan, we&#8217;ll stick with Microsoft&#8217;s options for now.<\/p>\n<p><strong>Privacy Settings:<\/strong><\/p>\n<p>1. Do not display user names in the Log On to Windows dialog box<\/p>\n<p>Group Policy equivalent:<\/p>\n<p><strong>Computer Configuration\\Windows Settings\\Security Settings\\Local Policies\\Security Options\\Do Not Display last user name in login screen<\/strong><\/p>\n<table class=\"list ol\" style=\"height: 32px;\" border=\"0\" width=\"13\">\n<tbody>\n<tr>\n<td class=\"number\"><\/td>\n<td class=\"text\"><\/td>\n<\/tr>\n<tr>\n<td class=\"number\"><\/td>\n<td class=\"text\"><\/td>\n<\/tr>\n<tr>\n<td class=\"number\"><\/td>\n<td class=\"text\"><\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n<p>2. Prevent locked or roaming profiles that cannot be found on the computer from logging on<\/p>\n<p>Group Policy Equivalent:<\/p>\n<p>Disable interactive logon for all accounts except the approved accounts for use with the kiosk machine<\/p>\n<p>Registry Equivalent:<\/p>\n<p class=\"MsoNormal\" style=\"margin: 0in 0in 0pt;\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">\u201cComputer Configuration\\User Settings\\Administrative Templates\\System\\User Profiles\\Log users off when roaming profile fails\u201d<\/span><\/span><\/span><\/p>\n<p class=\"MsoNormal\" style=\"margin: 0in 0in 0pt;\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">[HKEY_LOCAL_MACHINE\\Policies\\Microsoft\\Windows\\System\\ProfileErrorAction]<\/span><\/span><\/span><\/p>\n<p>3. Do not cache copies of locked or roaming profiles for users who have previously logged on to this computer &#8211;<\/p>\n<p>Group Policy Equivalent:<\/p>\n<p>Disable interactive logon for all accounts except the approved accounts for use with the kiosk machine<\/p>\n<p>Registry Equivalent:<\/p>\n<p><span id=\"_ctl0_MainContent_PostFlatView\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">[HKEY_LOCAL_MACHINE\\Policies\\Microsoft\\Windows\\System\\DeleteRoamingCache]<\/span><\/span><\/span><\/span><\/p>\n<p><strong>Security Settings:<\/strong><\/p>\n<p>1. Remove the Administrator user name from the Welcome Screen<\/p>\n<p>Group Policy Equivalent:<\/p>\n<p>The XP Welcome screen is automatically changed to the classic logon screen after a computer is joined to a domain &#8211; no policy change is needed unless this has been adjusted.<\/p>\n<p>Registry equivalent:<\/p>\n<p><span id=\"_ctl0_MainContent_PostFlatView\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">[HKEY_LOCAL_MACHINE\\SOFTWARE\\Windows NT\\CurrentVersion\\Winlogon\\SpecialAccounts\\UserList\\Administrator]<\/span><\/span><\/span><\/span><\/p>\n<p>2. Remove the Shut Down and Turn Off options from the Log On to Windows and the Welcome Screen<\/p>\n<p>Group Policy Equivalent:<\/p>\n<div class=\"indent\"><strong>User Configuration<\/strong> \\ <strong>Administrative Templates<\/strong> \\ <strong>Start Menu and Taskbar<\/strong><\/div>\n<div class=\"indent\"><\/div>\n<div class=\"indent\">\n<pre class=\"in_text\">Policy:Disable Logoff on the Start Menu\nDescription:Removes the \"Logoff\" button from the Start menu and prevents\nusers from adding the Logoff button to the Start menu.\nRegistry Value:\"StartMenuLogoff\" Policy:Disable and remove the Turn Off Computer button\nDescription:Removes the \"Turn Off Computer\" button from the Start Menu and\nprevents shutting down Windows using the standard shutdown user interface.\nRegistry Value:\"NoClose\"<\/pre>\n<\/div>\n<p>3. Do not allow Windows to compute and store passwords using LAN Manager Hash values<\/p>\n<p>Group Policy Equivalent:<\/p>\n<p><strong><span class=\"ArticleInlineTitle\">Computer Configuration\\Windows Settings\\Security Settings\\Local Policies\\Security Options\\Network Security: Do not store LAN Manager hash value on next password change <\/span><\/strong><\/p>\n<p>4. Do not store user names or passwords used to log on to Windows Live ID or the domain<\/p>\n<p>Group Policy Equivalent:<\/p>\n<p><strong><span id=\"_ctl0_MainContent_PostFlatView\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">Computer Configuration\\Windows Settings\\Security Settings\\Local Policies\\Security Options\\Network access: Do not allow storage of credentials or .NET Passports for network Authentication<\/span><\/span><\/span><\/span><\/strong><\/p>\n<p>By disabling interactive logins for all users accepting the kiosk user account &#8211; this isn&#8217;t an issue<\/p>\n<p>5. Prevent users from creating folders and files on the drive c:\\<\/p>\n<p>Security configured on the drive to give the kiosk only read access to information it needs should handle this.<\/p>\n<p>6. Prevent users from opening Microsoft Office documents from within Internet Explorer<\/p>\n<p>Registry Equivalents:<\/p>\n<p class=\"MsoNormal\" style=\"margin: 0in 0in 0pt;\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Excel.Sheet.5\\BrowserFlags]<\/span><\/span><\/span><\/p>\n<p class=\"MsoNormal\" style=\"margin: 0in 0in 0pt;\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Excel.Sheet.8\\BrowserFlags]<\/span><\/span><\/span><\/p>\n<p class=\"MsoNormal\" style=\"margin: 0in 0in 0pt;\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\MSProject.Project.8\\BrowserFlags]<\/span><\/span><\/span><\/p>\n<p class=\"MsoNormal\" style=\"margin: 0in 0in 0pt;\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\PowerPoint.Show.8\\BrowserFlags]<\/span><\/span><\/span><\/p>\n<p class=\"MsoNormal\" style=\"margin: 0in 0in 0pt;\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Word.Document.6\\BrowserFlags]<\/span><\/span><\/span><\/p>\n<p class=\"MsoNormal\" style=\"margin: 0in 0in 0pt;\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Word.Document.8\\BrowserFlags]<\/span><\/span><\/span><\/p>\n<p>7. Prevent write access to USB storage devices<\/p>\n<p>Registry Equivalent:<\/p>\n<p><span id=\"_ctl0_MainContent_PostFlatView\"><span style=\"font-size: 9pt;\"><span style=\"font-family: Arial; font-size: x-small;\"><span style=\"font-family: Verdana;\">[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\StorageDevicePolicies\\WriteProtect]<\/span><\/span><\/span><\/span><\/p>\n<p>Other Settings:<\/p>\n<p>1. Turn off the Welcome Screen<\/p>\n<p>Group Policy Equivalent:<\/p>\n<p>The XP Welcome screen is automatically changed to the classic logon screen after a computer is joined to a domain &#8211; no policy change is needed unless this has been adjusted.<\/p>\n<p>If you notice Microsoft does have some understanding of using machines with this configuration applied to them in a Domain environment since they offer the note &#8220;<em>In a Domain managed environment the Domain Group Policy supersedes any settings made here.<\/em>&#8221;<\/p>\n<p>This is the Schedule Software updates screen. You can configure the interval in which you update the Windows operating system and auxiliary programs. For updating windows a SteadyState computer supports Microsoft Update, Windows update, or WindowServer Update Services<span style=\"font-size: 10pt; font-family: 'Courier New';\">.<\/span><\/p>\n<p>The supported security program updates are limited. The only programs that have native support are Computer Associates eTrust 7.0, McAfee VirusScan, and TrendMicro 7.0. You have the option of creating a custom script to handle any other program updates you may need. In a domain environment, this can easily be handled by central update servers such as SMS and AV servers.<\/p>\n<p>Windows disk protection allows the user to install any programs they want or download whatever they wish, but the hard drive will just wipe out the data. I can&#8217;t seem to find a registry or policy equivalent that allows this, so it seems that this is one main benefit of a steady state.<\/p>\n<p>The &#8220;Add a New User&#8221; screen only allows you to create local users which doesn&#8217;t really help you in a secure domain-based environment. It will however check your domain&#8217;s password policy&#8217;s that you may have pushed down to the machine via group policy. If you do use this wizard to create accounts be aware that user policies from the domain can not be applied.<\/p>\n<p>The first screen of User Settings is the &#8220;General&#8221; tab. Here we get into some more unique settings for the SteadyState product. While it has the function to prevent the user from making permanent changes the most interesting thing is the logoff options, The ability to add the greatest amount of use time or idle time is done by the use of two helper applications that are installed with SteadyState. Being able to always display the session countdown allows the user to see how much time they have left before the logoff procedure is invoked. Restarting the computer after logging off allows the Windows Disk Protection to kick in and reset the machine back to a clean state. While this is nice, the same option could be invoked by creating a log-off script.<\/p>\n<p>The User Settings \\ Windows Restrictions tab allows you to hide drives, set default restriction levels, and takes the start menu restrictions straight out of the security policy. This is simple to replicate with a domain group policy.<\/p>\n<p>Feature restrictions are more policies that have been taken straight out of the local security policy (domain policy manager).<\/p>\n<p>While SteadyState allows you to block certain programs, locally installed antivirus can normally do this. Normally you wouldn&#8217;t want this in a kiosk environment. A better scenario is using group policies to allow only the programs you specify to run. Using the SteadyState scenario if someone ran a rogue application off their USB drive (if you&#8217;ve given them access) or renamed an EXE that was blocked that doesn&#8217;t need registry access, well I doubt that SteadyState could do anything to stop this.<\/p>\n<p>Importing users is done via normal windows save\/open dialogue box. It loads files done with a supported *.ssu extension.<\/p>\n<p>Exporting is done in a proprietary *.ssu file extension once again using the standard windows open \/ save dialogue box.<\/p>\n<p>Can I recommend SteadyState?<\/p>\n<p>For 90% of what it does, I wouldn&#8217;t use SteadyState at all but would personally rely on centrally controlled and maintained group policies within a domain environment. What does shine though is the Windows Drive Protection and the helper utilities that handle logoff timers &#8211; though with the idle time out I would more likely just use a script I controlled which could be invoked by the screensaver kicking in.<\/p>\n<p>I didn&#8217;t go through the group policies under the user restrictions since it&#8217;s almost verbatim down the list under the policy management. If you have any questions on a setting to restrict without using the SteadyState feel free to ask. The biggest disadvantage to SteadyState is that it uses local accounts that can&#8217;t be managed remotely with ease. Being at a company where everything is done to avoid using local accounts I can say this is bad mojo.<\/p>\n<p>I may use the drive protection and timeout applications, we&#8217;ll see when this project is truly finished.<\/p>\n<p>Reference Links:<\/p>\n<p><a tabindex=\"0\" href=\"http:\/\/www.microsoft.com\/downloads\/info.aspx?na=40&amp;p=2&amp;SrcDisplayLang=en&amp;SrcCategoryId=&amp;SrcFamilyId=d077a52d-93e9-4b02-bd95-9d770ccdb431&amp;u=http%3a%2f%2fgo.microsoft.com%2f%3flinkid%3d6793500\">Windows SteadyState Worldwide page<\/a><\/p>\n<p>Windows SteadyState Readme File<\/p>\n<p><a tabindex=\"0\" href=\"http:\/\/www.microsoft.com\/downloads\/info.aspx?na=40&amp;p=3&amp;SrcDisplayLang=en&amp;SrcCategoryId=&amp;SrcFamilyId=d077a52d-93e9-4b02-bd95-9d770ccdb431&amp;u=http%3a%2f%2fwww.microsoft.com%2fdownloads%2fdetails.aspx%3fFamilyId%3d6D130662-C084-4356-906F-426BC814582A%26displaylang%3den\">Windows SteadyState Technical FAQ<\/a><\/p>\n<p><a tabindex=\"0\" href=\"http:\/\/www.microsoft.com\/downloads\/info.aspx?na=40&amp;p=4&amp;SrcDisplayLang=en&amp;SrcCategoryId=&amp;SrcFamilyId=d077a52d-93e9-4b02-bd95-9d770ccdb431&amp;u=http%3a%2f%2fwww.microsoft.com%2fdownloads%2fdetails.aspx%3fFamilyID%3dd173452a-ce26-4f26-9c30-982f705f84d2%26DisplayLang%3den\">Windows SteadyState Handbook<\/a><\/p>\n<p><a class=\"l\" href=\"http:\/\/www.google.com\/url?sa=t&amp;ct=res&amp;cd=3&amp;url=http%3A%2F%2Ftechnet.microsoft.com%2Fen-us%2Fmagazine%2Fcc137731.aspx&amp;ei=cvP8R7-TA5vAggTV5-WQAQ&amp;usg=AFQjCNFRyaulH2fPFEErzujTRd4LTZrnug&amp;sig2=UHHZjJK3ITTFqXaucHlT4Q\">The Desktop Files: Shared Computing with Windows <strong>SteadyState<\/strong><\/a><\/p>\n<p>The Kiosk Series:<\/p>\n<p><a title=\"Article-Link (Permalink)\" href=\"..\/2008\/04\/08\/the-kiosk-series-part-one-choices-for-your-environment\/\" rel=\"bookmark\">The Kiosk Series &#8211; Part One &#8211; Choices For Your Environment<\/a><\/p>\n<p><a title=\"Article-Link (Permalink)\" href=\"..\/2008\/04\/08\/the-kiosk-series-part-two-management-considerations-for-your-environment\/\" rel=\"bookmark\">The Kiosk Series &#8211; Part Two &#8211; Management Considerations For Your Environment<\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>One of the programs that management wants us to look at for our kiosk implementation is Microsoft Steadystate,\u00a0Microsoft&#8216;s all-in-one wizard creates a kiosk solution. I&#8217;m not entirely convinced on the scenario that there are things &hellip;<\/p>\n","protected":false},"author":1,"featured_media":97594,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[],"_links":{"self":[{"href":"http:\/\/10.10.2.102\/wordpress\/index.php\/wp-json\/wp\/v2\/posts\/2690"}],"collection":[{"href":"http:\/\/10.10.2.102\/wordpress\/index.php\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/10.10.2.102\/wordpress\/index.php\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/10.10.2.102\/wordpress\/index.php\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/10.10.2.102\/wordpress\/index.php\/wp-json\/wp\/v2\/comments?post=2690"}],"version-history":[{"count":0,"href":"http:\/\/10.10.2.102\/wordpress\/index.php\/wp-json\/wp\/v2\/posts\/2690\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/10.10.2.102\/wordpress\/index.php\/wp-json\/wp\/v2\/media\/97594"}],"wp:attachment":[{"href":"http:\/\/10.10.2.102\/wordpress\/index.php\/wp-json\/wp\/v2\/media?parent=2690"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/10.10.2.102\/wordpress\/index.php\/wp-json\/wp\/v2\/categories?post=2690"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/10.10.2.102\/wordpress\/index.php\/wp-json\/wp\/v2\/tags?post=2690"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}