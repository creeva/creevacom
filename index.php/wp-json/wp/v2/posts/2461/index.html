{"id":2461,"date":"2008-02-04T13:32:08","date_gmt":"2008-02-04T18:32:08","guid":{"rendered":"http:\/\/localhost\/wordpress\/2008\/02\/04\/nfs-oh-i-hate-you\/"},"modified":"2023-02-05T06:45:42","modified_gmt":"2023-02-05T06:45:42","slug":"nfs-oh-i-hate-you","status":"publish","type":"post","link":"http:\/\/localhost\/wordpress\/index.php\/2008\/02\/04\/nfs-oh-i-hate-you\/","title":{"rendered":"NFS &#8211; Oh I Hate You"},"content":{"rendered":"<p><img decoding=\"async\" class=\"aligncenter size-large wp-image-96082\" src=\"http:\/\/localhost\/wordpress\/wp-content\/uploads\/2021\/03\/pexels-luis-gomes-546819-scaled-1-1024x680.jpg\" alt=\"\" width=\"1024\" height=\"680\" srcset=\"http:\/\/localhost\/wordpress\/wp-content\/uploads\/2021\/03\/pexels-luis-gomes-546819-scaled-1-1024x680.jpg 1024w, http:\/\/localhost\/wordpress\/wp-content\/uploads\/2021\/03\/pexels-luis-gomes-546819-scaled-1-300x199.jpg 300w, http:\/\/localhost\/wordpress\/wp-content\/uploads\/2021\/03\/pexels-luis-gomes-546819-scaled-1-768x510.jpg 768w, http:\/\/localhost\/wordpress\/wp-content\/uploads\/2021\/03\/pexels-luis-gomes-546819-scaled-1-1536x1020.jpg 1536w, http:\/\/localhost\/wordpress\/wp-content\/uploads\/2021\/03\/pexels-luis-gomes-546819-scaled-1.jpg 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/p>\n<p>Lately, we&#8217;ve had a security product at work that allows for secure end-to-end file sharing via NFS. That is about the best thing I can say about NFS at this point. For those not familiar with NFS Wikipedia has <a href=\"http:\/\/en.wikipedia.org\/wiki\/Network_File_System_%28protocol%29\">this description<\/a>:<\/p>\n<p style=\"text-align: center;\"><img decoding=\"async\" src=\"http:\/\/localhost\/wordpress\/wp-content\/uploads\/2008\/02\/Nohat-logo-nowords-bgwhite-200px.jpg\" width=\"200\" height=\"200\" \/><\/p>\n<blockquote>\n<p align=\"left\">\u00a0<strong>Network File System<\/strong> (NFS) is a network file system protocol originally jointly developed by Sun Microsystems and IBM in 1984, allowing a user on a client computer to access files over a network as easily as if the network devices were attached to its local disks. NFS, like many other protocols, builds on the Open Network Computing Remote Procedure Call (ONC RPC) system. The Network File System protocol is specified in <a class=\"external\" title=\"http:\/\/tools.ietf.org\/html\/rfc1094\" href=\"http:\/\/tools.ietf.org\/html\/rfc1094\">RFC 1094<\/a>, <a class=\"external\" title=\"http:\/\/tools.ietf.org\/html\/rfc1813\" href=\"http:\/\/tools.ietf.org\/html\/rfc1813\">RFC 1813<\/a>, and <a class=\"external\" title=\"http:\/\/tools.ietf.org\/html\/rfc3530\" href=\"http:\/\/tools.ietf.org\/html\/rfc3530\">RFC 3530<\/a> (which obsoletes <a class=\"external\" title=\"http:\/\/tools.ietf.org\/html\/rfc3010\" href=\"http:\/\/tools.ietf.org\/html\/rfc3010\">RFC 3010<\/a>).<\/p>\n<\/blockquote>\n<p>Now you may go a networking file system how can I guy hate that? The easiest answer is that the bane part of my existence over this stems from group file sharing. There is a group in the office that needs shared access to the files that are located on the NFS share. The reason this is an issue is that they all access the files at the same time.<\/p>\n<p>The issue where we are having problems is that the NFS product does not support file locking. This means that multiple users can all have the same file open at the same time and save the file at the same time. This causes overwriting of the file and leads to the corruption of said files.<\/p>\n<p>NFS as a protocol does not include mandatory file locking. If file locking would have been included back in 1984 in the RFC specification this wouldn&#8217;t an issue. I am assuming the original RFC writers didn&#8217;t fathom that multiple people would have the file open at the same time over a network when networking was rare and not ubiquitous.<\/p>\n<p>Now before I hear comments or e-mails about the statd and lockd that adds optional file locking, I would like to point out the &#8220;optional&#8221; part of that line. While there have been methods to shoehorn file-locking abilities into NFS so it can keep up with protocols such as CIFS, WebDAV, and multitudes of other &#8220;modern&#8221; file-sharing protocols, it&#8217;s like putting sneakers on an elephant &#8211; since it&#8217;s not mandatory no one is going to do it and it never will work right.<\/p>\n<p>I&#8217;m just venting my frustrations on protocols that would do better to be obsoleted completely than trying to make a patchwork quilt out of them.<\/p>\n<p>I&#8217;m really not alone on this line of thought, someone wrote a paper called &#8220;<a href=\"http:\/\/www.time-travellers.org\/shane\/papers\/NFS_considered_harmful.html\">Use of NFS Considered Harmful<\/a>&#8220;. I have since used this paper in my case to management of why this implementation is a terrible idea.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Lately, we&#8217;ve had a security product at work that allows for secure end-to-end file sharing via NFS. That is about the best thing I can say about NFS at this point. For those not familiar &hellip;<\/p>\n","protected":false},"author":1,"featured_media":96082,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[3],"tags":[],"jetpack_featured_media_url":"http:\/\/localhost\/wordpress\/wp-content\/uploads\/2021\/03\/pexels-luis-gomes-546819-scaled-1.jpg","_links":{"self":[{"href":"http:\/\/localhost\/wordpress\/index.php\/wp-json\/wp\/v2\/posts\/2461"}],"collection":[{"href":"http:\/\/localhost\/wordpress\/index.php\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/localhost\/wordpress\/index.php\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/localhost\/wordpress\/index.php\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/localhost\/wordpress\/index.php\/wp-json\/wp\/v2\/comments?post=2461"}],"version-history":[{"count":1,"href":"http:\/\/localhost\/wordpress\/index.php\/wp-json\/wp\/v2\/posts\/2461\/revisions"}],"predecessor-version":[{"id":101058,"href":"http:\/\/localhost\/wordpress\/index.php\/wp-json\/wp\/v2\/posts\/2461\/revisions\/101058"}],"wp:featuredmedia":[{"embeddable":true,"href":"http:\/\/localhost\/wordpress\/index.php\/wp-json\/wp\/v2\/media\/96082"}],"wp:attachment":[{"href":"http:\/\/localhost\/wordpress\/index.php\/wp-json\/wp\/v2\/media?parent=2461"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/localhost\/wordpress\/index.php\/wp-json\/wp\/v2\/categories?post=2461"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/localhost\/wordpress\/index.php\/wp-json\/wp\/v2\/tags?post=2461"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}